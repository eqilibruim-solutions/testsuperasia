<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <template id="sales_rep_cart_inherite" inherit_id="website_sale.cart"  name="Sales Rep Cart Inherit">
        <xpath expr="//div[hasclass('container', 'oe_website_sale' )]" position="before">
            <div class="container-fluid" id="super_top_menu_cart" t-if="request.env.user.user_has_groups('superasia_salesrep_app.group_sales_rep')">
                <div class="row">
                    <div class="col-12 col-sm-2 col-md-2 logo float-left pt-2 pl-4">
                        <div class="text-light float-left">
                            <a href="/sales-rep/sale" class="font-weight-bold text-white"><i class="fa fa-angle-left"></i> Shop</a>
                        </div>
                    </div>
                    <div class="col-12 col-md-8 col-sm-8 text-center">
                        <div class="account-name-style">
                            <h5 class="pt-2">
                                <a href="#" class="font-weight-bold text-white"><t t-esc="selected_partner.name"/> </a>
                            </h5>
                        </div>
                    </div>
                    <div class="col-12 col-sm-2 col-md-2 text-right pt-2"></div>  
                </div>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('oe_cart')]//a[@href='/shop']" position="attributes">
            <attribute name="t-if">not request.env.user.user_has_groups('superasia_salesrep_app.group_sales_rep')</attribute>
        </xpath>

        <xpath expr="//div[@id='o_cart_summary']//a[@href='/shop']" position="attributes">
            <attribute name="t-if">not request.env.user.user_has_groups('superasia_salesrep_app.group_sales_rep')</attribute>
        </xpath>
    </template>

    <template id="sales_rep_cart_lines" inherit_id="website_sale.cart_lines">
        <xpath expr="//table[@id='cart_products']//t[@t-call='website_sale.cart_line_product_link']" position="replace">
            <t t-if="request.env.user.user_has_groups('superasia_salesrep_app.group_sales_rep')">
                <t t-set="line_product_href" t-value="line.product_id.website_url"/>
                <t t-set="app_product_href" t-value="line_product_href.replace('/shop/','/sales-rep/sale/')"/>
                <a t-att-href="app_product_href" class="font-weight-bold text-dark">
                    <strong t-field="line.name_short" />
                </a>
            </t>
            <t t-else="">
                <t t-call="website_sale.cart_line_product_link">
                    <strong t-field="line.name_short" />
                </t>
            </t>
            
        </xpath>
    </template>
    <template id="sales_app_short_cart_summary_inh" inherit_id="bista_superasia_theme.short_cart_summary_inherite">
        <xpath expr="//a[@href='/shop']" position="attributes">
            <attribute name="t-if">not request.env.user.user_has_groups('superasia_salesrep_app.group_sales_rep')</attribute>
        </xpath>
    </template>
</odoo>

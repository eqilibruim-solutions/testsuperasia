<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="sales_rep_catalogue_product" name="Sales Rep Catalogue Products Page">
        <t t-call="website.layout">
            <t t-set="additional_title">Catalogue</t>
            <div id="wrap">
                <div class="oe_structure"/>
                <!-- ======= Header ======= -->
                <div class="sale_rep_product_list d-inline">
                    <div id="super_top_menu">
                        <div class="container-fluid">
                            <div class="row">
                            <div class="col-12 col-sm-2 col-md-2 logo float-left pt-2">
                                <div class="text-light float-left">
                                    <a href="/sales-rep/home" class="font-weight-bold text-white"><i class="fa fa-angle-left"></i> Home</a>
                                </div>
                            </div>
                            <div class="col-12 col-md-8 col-sm-8 text-center">
                                <div class="account-name-style">
                                    <h5 class="pt-2">
                                        <a href="#" class="font-weight-bold text-white">Super Asia Foods </a>
                                    </h5>
                                </div>
                            </div>
                            <div class="col-12 col-sm-2 col-md-2 text-right pt-2"></div>  
                            </div><!-- end row -->
                        </div><!-- end container -->
                    </div><!-- end #super_top_menu -->

                    <div id="function_top_menu" class="sticky-top">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 col-sm-8 col-md-8 text-center">

                                    <div class="border form-outline w-100">
                                        <!-- Search Product  -->
                                        <t t-set="action" t-value="keep('/shop'+ ('/category/'+slug(category)) if category else None, search=0)"/>
                                        <form 
                                        t-attf-class="o_wsale_products_searchbar_form o_wait_lazy_js #{_classes}" 
                                        t-att-action="action if action else '/shop'" 
                                        method="get" style="width: 100% !important;display: block;">
                                            <input type="text" name="search" class="search-query form-control oe_search_box form-control" placeholder="Search item" t-att-value="search"
                                                data-limit="5" data-display-description="true" data-display-image="true"
                                            />
                                            <input name="order" type="hidden" class="o_wsale_search_order_by" value=""/>
                                            <t t-raw="0"/>
                                            <t t-if="attrib_values">
                                                <t t-foreach="attrib_values" t-as="a">
                                                    <input type="hidden" name="attrib" t-att-value="'%s-%s' % (a[0], a[1])" />
                                                </t>
                                            </t>
                                            <button id="search_button_product_listings" type="submit" class="btn btn-primary border-0 oe_search_button">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </form>
                                        <!-- END: Search Product -->
                                    </div>
                                </div>
                                <div class="col-12 col-sm-4 col-md-4">
                                    <div class="row">
                                    <div class="col text-center"><a href="#" class="d-none"><i class="icofont-filter"></i></a></div>
                                    <!-- Sorting Product -->
                                    <div class="col text-center">
                                        <t t-set="list_price_desc_label">Catalog price: High to Low</t>
                                        <t t-set="list_price_asc_label">Catalog price: Low to High</t>
                                        <t t-set="name_asc_label">Name: A to Z</t>
                                        <t t-set="name_desc_label">Name: Z to A</t>
                                        <t t-set="website_sale_sortable" t-value="[
                                            (list_price_desc_label, 'list_price desc'),
                                            (list_price_asc_label, 'list_price asc'),
                                            (name_asc_label, 'name asc'),
                                            (name_desc_label, 'name desc')
                                        ]"/>
                                        <t t-set="website_sale_sortable_current" t-value="[sort for sort in website_sale_sortable if sort[1]==request.params.get('order', '')]"/>
                                        <a href="#" class="btn btn-sm dropdown-toggle text-black" data-toggle="dropdown">
                                            <i class="icofont-sort-alt"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right" role="menu">
                                            <t t-foreach="website_sale_sortable" t-as="sortby">
                                                <a role="menuitem" rel="noindex,nofollow" t-att-href="keep('/sales-rep/catalogue', order=sortby[1])" class="dropdown-item text-black" style="font-size: 1rem;">
                                                    <span t-raw="sortby[0]"/>
                                                </a>
                                            </t>
                                        </div>
                                        <!--END: Sorting Product -->
                                    </div>
                                    </div>  
                                </div>
                                <!-- Category / Brand dropdown -->
                                <div class="row">

                                    <div class="col py-3">
                                        <div>
                                            <t t-set="special_categ_url" t-value="0"/>
                                            <t t-set="new_arrivals_categ_url" t-value="0"/>
                                            <select id="product-category" class="product-listing-tags form-control">
                                                <option value="/sales-rep/catalogue">Main (All)</option>
                                                <t t-foreach="categories" t-as="c">
                                                    <t t-if="c.name.lower() == 'specials'">
                                                        <t t-set="special_categ_url" t-value="keep('/sales-rep/catalogue/category/' + slug(c), category=0)"/>
                                                    </t>
                                                    <t t-if="c.name.lower() == 'new arrivals'">
                                                        <t t-set="new_arrivals_categ_url" t-value="keep('/sales-rep/catalogue/category/' + slug(c), category=0)"/>
                                                    </t>
                                                    <option t-att-value="keep('/sales-rep/catalogue/category/' + slug(c), category=0)" data-type="category" t-att-selected="c.id == category.id">
                                                        <t t-esc="c.name"/>
                                                    </option>
                                                </t>

                                            </select>
                                        </div>
                                    </div>
                                    <t t-foreach="attributes" t-as="a">
                                    <div class="col py-3">
                                        <form class="js_attributes" method="get">
                                            <div>
                                                <select class="product-listing-tags form-control" name="attrib">
                                                    <option value="">Brand</option>
                                                    <t t-foreach="a.value_ids" t-as="v">
                                                        <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name" t-att-selected="v.id in attrib_set" />
                                                    </t>
                                                </select>
                                            </div>
                                        </form>
                                    </div>
                                    </t>
                                    <div class="col py-3">
                                        <div t-if="special_categ_url" class="select_box">
                                            <a t-att-href="special_categ_url">Specials</a>
                                        </div>
                                    </div>
                                    <div class="col py-3">
                                        <div t-if="new_arrivals_categ_url" class="select_box">
                                            <a t-att-href="new_arrivals_categ_url">
                                                New Arrivals
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div><!-- end row -->
                        </div><!-- end container -->
                    </div><!-- end #top_menu -->

                </div><!-- End Header -->
                <!-- ======= Main Section ======= -->
                <div class="container oe_website_sale">
                    <div class="row sales-app-product">

                        <t t-if="bins">
                            <t t-foreach="bins" t-as="tr_product">
                                <t t-foreach="tr_product" t-as="td_product">
                                    <t t-if="td_product">
                                        <div class="col-12 col-sm-6 col-md-6 pb-3 border-bottom">
                                            <t t-set="product" t-value="td_product['product']" />
                                            <t t-set="product_href" t-value="keep(product.website_url, page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))" />
                                            <t t-set="rep_product_href" t-value="product_href.replace('/shop/','/sales-rep/sale/')"/>

                                            <div class="row">
                                                <div class="col-sm-9 col-md-9"></div>
                                                <div class="col-12 col-sm-3 col-md-3 text-right">
                                                    <div class="more-info">
                                                        <a t-att-href="rep_product_href" class="btn font-weight-bold text-capitalize">Info</a>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="">

                                                <div t-attf-class=" #{td_product['x']}_#{td_product['y']} mb-4" >
                                                    <t t-call="superasia_salesrep_app.sales_rep_products_item">
                                                        <t t-set="product_image_big" t-value="td_product['x'] + td_product['y'] &gt; 2"/>
                                                    </t>
                                                </div>
                                            </div>
                                        </div>
                                    </t>
                                </t>
                            </t>
                        </t>
                        <t t-else="">
                            <div class="text-center text-muted">
                                <t t-if="not search">
                                    <h3 class="mt8">No product defined</h3>
                                    <p t-if="category">No product defined in category "<strong t-esc="category.display_name"/>".</p>
                                </t>
                                <t t-else="">
                                    <h3 class="mt8">No results</h3>
                                    <p>No results for "<strong t-esc='search'/>"<t t-if="category"> in category "<strong t-esc="category.display_name"/>"</t>.</p>
                                </t>
                            </div>
                        </t>

                        <div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel" style="display: none;" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">              
                                <div class="modal-body text-center">
                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                                    <img src="/superasia_salesrep_app/static/src/img/super-asia-logo.png" class="imagepreview img img-thumbnail border-0"/>
                                </div>
                                </div>
                            </div>
                        </div>
                                        </div>
                    <div class="my-5">

                    </div>
                </div>

                <div id="product-list-bottom" class="fixed-bottom py-3">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-10">
                                <div class="products_pager form-inline">
                                    <t t-call="website.pager"/>
                                </div>
                            </div>
                            <!-- <div class="col-md-2 text-right">
                                <t t-set="website_sale_order" t-value="website.sale_get_order()" />
                                <a href="/shop/cart">
                                    <i class="fa bi bi-cart" style="color: #ad3021;font-size: 1.8rem;"></i>
                                    <sup t-attf-class="my_cart_quantity badge badge-primary" t-esc="website_sale_order and website_sale_order.cart_quantity or ''" t-att-data-order-id="website_sale_order and website_sale_order.id or ''" style="font-size: calc(10px);important;border-radius: 15px;background: #BE252B; vertical-align: top !important;"/>
                                </a>
                            </div> -->
                        </div><!-- end row -->
                    </div><!-- end container-fluid -->
                </div>
            </div>

        </t>
        
    </template>
</odoo>

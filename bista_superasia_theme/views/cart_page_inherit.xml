<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Inherited template from base -->


    <template id="short_cart_summary_inherite" inherit_id="website_sale.short_cart_summary" name="Cart Short Summary">
        <xpath expr="//h4[hasclass('d-none', 'd-xl-block')]" position="attributes">
            <attribute name="class">d-none d-xl-block font-weight-bold</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-secondary', 'float-right', 'd-none', 'd-xl-inline-block')]" position="attributes">
            <attribute name="style">background: #BE222B;</attribute>
        </xpath>
    </template>
    <template id="cart_lines_inherite" inherit_id="website_sale.cart_lines" name="cart_lines inherit">
        <xpath expr="//table[hasclass('js_cart_lines')]" position="before">
            <script>
                var perfEntries = performance.getEntriesByType("navigation");
                console.log("Cart Page");
                if (perfEntries[0].type === "back_forward") {
                    window.location.reload();
                }
            </script>
        </xpath>
        <xpath expr="//td[hasclass('text-center', 'td-price')]" position="attributes">
            <attribute name="class">font-weight-bold</attribute>
        </xpath>
        <xpath expr="//input[hasclass('js_quantity', 'form-control','quantity')]" position="replace">
            <t t-set="combination_info" t-value="line.product_id.product_tmpl_id._get_combination_info(only_template=False, add_qty=add_qty or 1, pricelist=pricelist,product_id=line.product_id.id)"/>
            <input type="text" class="js_quantity form-control quantity" t-att-data-line-id="line.id" t-att-data-max="combination_info['onhand_qty']" t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty"/>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-link', 'js_add_cart_json', 'd-none', 'd-md-inline-block')]"
               position="attributes">
            <attribute name="class">btn btn-link js_add_cart_json d-md-inline-block</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-link', 'float_left', 'js_add_cart_json', 'd-none', 'd-md-inline-block')]"
               position="attributes">
            <attribute name="class">btn btn-link float_left js_add_cart_json d-md-inline-block</attribute>
        </xpath>
        <xpath expr="//div[@t-field='product.description_sale']" position="replace"></xpath>

    </template>

    <template id="inherit_cart_line_description_following_lines"
              name="Inherited Shopping Cart Line Description Following Lines"
              inherit_id="website_sale.cart_line_description_following_lines">
        <xpath expr="//div" position="replace"></xpath>
    </template>

    <template id="cart_line_product_link_inherite" inherit_id="website_sale.cart_line_product_link" name="Cart Line Inherit">
        <xpath expr="//a[@t-att-href='line.product_id.website_url']" position="attributes">
            <attribute name="class">font-weight-bold text-dark</attribute>
        </xpath>
    </template>

    <template id="wizard_checkout_inherite" inherit_id="website_sale.wizard_checkout" name="wizard_checkout Inherit">
<!--        <xpath expr="//div[hasclass('text-center', 'progress-wizard-steplabel')]" position="attributes">-->
<!--            <attribute name="class">text-center progress-wizard-steplabel text-white</attribute>-->
<!--        </xpath>-->


        <xpath expr="//div[hasclass('col-xl')]" position="attributes">
            <attribute name="class">col-xl pb-4</attribute>
        </xpath>
    </template>
    <template id="cart_inherite" inherit_id="website_sale.cart"  name="Cart Inherit">
        <xpath expr="//div[hasclass('col-12', 'col-xl-8', 'oe_cart')]" position="attributes">
            <attribute name="class">col-12 col-xl-7 oe_cart</attribute>
        </xpath>
        <xpath expr="//div[@id='o_cart_summary']" position="attributes">
            <attribute name="class">col-12 col-xl-5</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-secondary', 'mb32', 'd-none', 'd-xl-inline-block')]" position="attributes">
            <attribute name="class">border-beta btn d-none d-xl-inline-block custom_them_primary text-white mb32</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-primary', 'float-right', 'd-none', 'd-xl-inline-block')]" position="attributes">
            <attribute name="class">btn float-right d-none d-xl-inline-block custom_them_primary text-white</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-primary', 'float-right')]" position="attributes">
            <attribute name="class">btn custom_them_primary float-right text-white</attribute>
        </xpath>


    </template>

    <template id="short_cart_summary_inherite" inherit_id="website_sale.short_cart_summary" name="short_cart_summary Inherit">
        <xpath expr="//div[hasclass('card', 'js_cart_summary')]" position="attributes">
            <attribute name="class">bg-secondary border-0 card js_cart_summary</attribute>
        </xpath>
        <xpath expr="//a[@t-if='website_sale_order and website_sale_order.website_order_line']" position="attributes">
            <attribute name="class">btn custom_them_primary d-none d-xl-inline-block float-right text-white</attribute>
        </xpath>
        <xpath expr="//div[hasclass('card-body')]//a[@t-if='website_sale_order and website_sale_order.website_order_line']" position="before">
            <a role="button" href="/shop" class="border-beta btn d-none d-xl-inline-block custom_them_primary text-white">
                                        <span class="fa fa-chevron-left" />
                                        <span class="">Continue Shopping</span>
                                    </a>
        </xpath>
    </template>
    <template id="total_inherite" inherit_id="website_sale.total" name="Cart Total Inherit">
        <xpath expr="//div[@id='cart_total']" position="replace">
            <div id="cart_total" t-att-class="extra_class or ''" t-if="website_sale_order and website_sale_order.website_order_line">
            <table class="table border-0">
                  <tr id="empty">
                      <t t-if='not no_rowspan'><td rowspan="10" class="border-0"/></t>
                      <td class="col-md-2 col-3 border-0"></td>
                      <td class="col-md-2 col-3 border-0" ></td>
                  </tr>
                  <tr id="order_total_untaxed" class="border-bottom">
                      <td class="text-right border-0 text-secondary font-weight-bold">Subtotal:</td>
                      <td class="text-xl-right border-0" >
                          <span t-field="website_sale_order.amount_untaxed" class="monetary_field text-secondary font-monospace" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}"/>
                      </td>
                  </tr>
                  <tr id="order_total_taxes" class="border-bottom">
                      <td class="text-right border-0 text-secondary font-weight-bold">Taxes:</td>
                      <td class="text-xl-right border-0">
                           <span t-field="website_sale_order.amount_tax" class="monetary_field text-secondary font-monospace" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
                      </td>
                  </tr>
                  <tr id="order_total" class="border-bottom">
                      <td class="text-right font-weight-bold"><strong>Total:</strong></td>
                      <td class="text-xl-right">
                          <strong t-field="website_sale_order.amount_total" class="monetary_field"
                              t-options='{"widget": "monetary", "display_currency": website_sale_order.pricelist_id.currency_id}'/>
                      </td>
                  </tr>
            </table>
        </div>
        </xpath>
    </template>







    <template id="bista_superasia_reduction_code" inherit_id="bista_superasia_theme.total_inherite">
        <xpath expr="//div[@id='cart_total']//table/tr[last()]" position="after">
            <tr t-if="not hide_coupon">
                <td colspan="3" class="text-center text-xl-right border-0">
                <span class=''>
                    <t t-set='force_coupon' t-value="website_sale_order.pricelist_id.code or request.params.get('code_not_available')"/>
                    <t t-if="not force_coupon">
                        <a href="#" class="show_coupon" style="color: #bb0000;
    font-weight: 600;">I have a promo code</a>
                    </t>
                    <div t-attf-class="coupon_form #{not force_coupon and 'd-none'}">
                        <t t-call="website_sale.coupon_form"/>
                    </div>
                </span>
                </td>
            </tr>
        </xpath>


        <xpath expr="//tr[@id='order_total_untaxed']" position="before">
            <tr id="order_delivery" t-if="website_sale_order and website_sale_order.carrier_id">
              <td class="text-right border-0 text-secondary font-weight-bold"  title="Delivery will be updated after choosing a new delivery method">Delivery:</td>
              <td class="text-xl-right border-0" >
                   <span t-field="website_sale_order.amount_delivery" class="monetary_field" style="white-space: nowrap;" t-options='{
                      "widget": "monetary",
                      "display_currency": website_sale_order.currency_id,
                  }'/>
              </td>
            </tr>
        </xpath>

    </template>
    <template id="checkout_inherite" inherit_id="website_sale.checkout" name="Checkout Inherit">
        <xpath expr="//a[hasclass('btn', 'btn-secondary', 'mb32')]" position="attributes">
            <attribute name="class">border-beta btn mb32</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-primary', 'mb32')]" position="attributes">
            <attribute name="class">btn mb32 custom_them_primary text-white</attribute>
        </xpath>
        <xpath expr="//a[hasclass('a-submit', 'btn', 'btn-secondary', 'mb16', 'btn-block')]" position="attributes">
            <attribute name="class">a-submit btn mb16 btn-block custom_them_primary text-white</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl-auto', 'order-xl-2', 'd-none', 'd-xl-block')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 d-none d-xl-block offset-xl-2 order-xl-2</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-lg-6', 'one_kanban')]" position="attributes">
            <attribute name="class">one_kanban</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-md-12', 'col-lg-6', 'one_kanban')]" position="attributes">
            <attribute name="class">col-md-12 one_kanban</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl', 'order-xl-1', 'oe_cart')]" position="attributes">
            <attribute name="class">col-12 col-xl order-xl-1 oe_cart address_edit_pg</attribute>
        </xpath>
    </template>
    <template id="extra_info_inherite" inherit_id="website_sale.extra_info" name="Extra_info Inherit">
        <xpath expr="//div[hasclass('col-12', 'col-xl-auto', 'order-xl-2', 'd-none', 'd-xl-block')]" position="attributes">
            <attribute name="class">class="col-12 col-xl-5 d-none d-xl-block offset-xl-2 order-xl-2"</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl', 'order-xl-1', 'oe_cart')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 oe_cart order-xl-1</attribute>
        </xpath>
    </template>

    <template id="address_inherite" inherit_id="website_sale.address" name="Address Inherit">
        <xpath expr="//div[hasclass('col-12', 'col-xl-auto', 'order-xl-2', 'd-none', 'd-xl-block')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 d-none d-xl-block mt-xl-5 offset-xl-2 order-xl-2</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl', 'order-xl-1', 'oe_cart')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 order-xl-1 oe_cart address_pg</attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-primary', 'mb32', 'a-submit', 'a-submit-disable', 'a-submit-loading')]" position="attributes">
            <attribute name="class">a-submit a-submit-disable a-submit-loading btn custom_them_primary mb32 text-white</attribute>
        </xpath>
        <xpath expr="//a[contains(@style, 'margin-top: -11px')]" position="attributes">
            <attribute name="class">btn custom_them_primary pl-3 text-white</attribute>
        </xpath>
        <xpath expr="//div[contains(@t-attf-class, 'div_street')]/label[contains(@for, 'street')]" position="replace">
            <label class="col-form-label" for="street"><span class="d-none d-md-inline">Complete</span> Postal Address</label>
        </xpath>

    </template>
    <template id="payment_inherite" inherit_id="website_sale.payment" name="Payment Inherit">
        <xpath expr="//div[hasclass('col-12', 'col-xl-auto', 'order-xl-2')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 order-xl-1 oe_cart</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl', 'order-xl-1', 'oe_cart')]" position="replace">
            <t t-if="request.env.user.has_group('superasiab2b_b2c.group_b2baccount')">
            <div class="col-12 col-xl-5 flex-column justify-content-center offset-xl-2 order-xl-1">
                <div class="card">
                        <div class="card-body" id="shipping_and_billing">
                            <a class='float-right no-decoration' href='/shop/checkout'><i class="fa fa-edit"/> Click here</a>
                            <t t-set="same_shipping" t-value="bool(order.partner_shipping_id==order.partner_id or only_services)" />
                            <div><h4><span>Add Billing<t t-if="same_shipping and not only_services"> &amp; Shipping</t> Address: </span></h4><span t-esc='order.partner_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')" class="address-inline"/></div>
                            <div t-if="not same_shipping and not only_services" groups="sale.group_delivery_invoice_address"><h4><span>Shipping Address: </span></h4><span t-esc='order.partner_shipping_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')"  class="address-inline"/></div>
                        </div>
                </div>

                <form target="_self" action="/shop/payment/validate" method="post" class="pt-5">
                    <div class="Extra comments pt-5">
                        <div class="form-group">
                            <label for="exampleFormControlTextarea1"><strong>Comments:</strong></label>
                            <textarea class="form-control" name="comments" id="exampleFormControlTextarea1" placeorder="Comments..."
                                      rows="3"></textarea>
                        </div>
                    </div>
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <a role="button" class="a-submit btn custom_them_primary text-white" href="#">
                    <span>Confirm Order<span class="fa fa-chevron-right"></span></span>
                </a>
            </form>
                </div>
            </t>
            <t t-else="">
                <div class="col-12 col-xl-5 offset-xl-2 order-xl-1 oe_cart confirm_pg">
                    <div class="card">
                        <div class="card-body b2c_all" id="shipping_and_billing">
                            <a class='float-right no-decoration' href='/shop/checkout'><i class="fa fa-edit"/> Click here</a>
                            <t t-set="same_shipping" t-value="bool(order.partner_shipping_id==order.partner_id or only_services)" />
                            <div><h4><span>Add Billing<t t-if="same_shipping and not only_services"> &amp; Shipping</t> Address: </span></h4><span t-esc='order.partner_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')" class="address-inline"/></div>
                            <div t-if="not same_shipping and not only_services" groups="sale.group_delivery_invoice_address"><h4><span>Shipping Address: </span></h4><span t-esc='order.partner_shipping_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')"  class="address-inline"/></div>
                        </div>
                    </div>

                    <div class="oe_structure clearfix mt-3" id="oe_structure_website_sale_payment_1"/>

                    <div id="payment_method" class="mt-3" t-if="(acquirers or tokens) and website_sale_order.amount_total">
                        <h3 class="mb24">Pay with </h3>
                        <t t-call="payment.payment_tokens_list">
                            <t t-set="mode" t-value="'payment'"/>
                            <t t-set="submit_txt">Pay Now</t>
                            <t t-set="icon_right" t-value="1"/>
                            <t t-set="icon_class" t-value="'fa-chevron-right'"/>
                            <t t-set="submit_class" t-value="'btn btn-primary'"/>
                            <t t-set="pms" t-value="tokens"/>
                            <t t-set="form_action" t-value="'/shop/payment/token'"/>
                            <t t-set="prepare_tx_url" t-value="'/shop/payment/transaction/'"/>
                            <t t-set="partner_id" t-value="partner"/>

                            <t t-set="back_button_icon_class" t-value="'fa-chevron-left'"/>
                            <t t-set="back_button_txt">Return to Cart</t>
                            <t t-set="back_button_class" t-value="'btn btn-secondary'"/>
                            <t t-set="back_button_link" t-value="'/shop/cart'"/>
                        </t>
                    </div>

                    <div t-if="not acquirers" class="mt-2">
                        <a role="button" class="btn-link"
                           groups="base.group_system"
                           t-attf-href="/web#action=#{payment_action_id}">
                            <i class="fa fa-arrow-right"></i> Add payment acquirers
                        </a>
                    </div>
                    <div class="js_payment mt-3" t-if="not website_sale_order.amount_total" id="payment_method">
                        <form target="_self" action="/shop/payment/validate" method="post" class="float-right">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <a role="button" class="btn btn-primary a-submit" href="#">
                                <span t-if="order.amount_total &gt; 0">Pay Now <span class="fa fa-chevron-right"></span></span>
                                <span t-if="order.amount_total == 0">Confirm Order <span class="fa fa-chevron-right"></span></span>
                            </a>
                        </form>
                    </div>
                </div>
            </t>
        </xpath>

    </template>




    <template id="bista_superasia_theme_payment_delivery" name="Delivery Costs"
              inherit_id="bista_superasia_theme.payment_inherite">
<!--        <xpath expr="//div[@id='shipping_and_billing']" position="inside">-->
        <xpath expr="//div[hasclass('card-body','b2c_all')]" position="inside">
            <t t-set="delivery_nb" t-value="deliveries and len(deliveries)"/>
            <div t-if="delivery_nb == 1" id="delivery_carrier" class="mt4">
                <b>Shipping Method: </b>
                <t t-foreach="deliveries" t-as="delivery">
                        <t t-call="website_sale_delivery.payment_delivery_methods"/>
                </t>
            </div>
        </xpath>
        <xpath expr="//div[@id='payment_method']" position="before">
            <div t-if="deliveries" id="delivery_carrier">
                <t t-set="delivery_nb" t-value="len(deliveries)"/>
                <h3 t-if="delivery_nb &gt; 1" class="mb24">Choose a delivery method</h3>
                <div t-if="delivery_nb &gt; 1" class="card border-0" id="delivery_method">
                    <ul class="list-group">
                    <t t-foreach="deliveries" t-as="delivery">
                        <li class="list-group-item o_delivery_carrier_select">
                            <t t-call="website_sale_delivery.payment_delivery_methods"/>
                        </li>
                    </t>
                    </ul>
                </div>
            </div>
        </xpath>
        <!-- we shouldn't be able to pay if there is no way to deliver -->
        <xpath expr="//div[@id='payment_method']" position="attributes">
                <attribute name="t-att-style">'display: none!important' if not deliveries and delivery_has_storable else ''</attribute>
        </xpath>
    </template>



    <template id="payment_tokens_list_inherite" inherit_id="payment.payment_tokens_list" name="Payment Inherit">
        <xpath expr="//div[hasclass('card')]" position="after">
            <div class="Extra comments pt-3">
                <div class="form-group">
                    <label for="exampleFormControlTextarea1"><strong>Comments:</strong></label>
                    <textarea class="form-control" name="comments" id="exampleFormControlTextarea1" placeorder="Comments..."
                              rows="3"></textarea>
                </div>
            </div>
        </xpath>
    </template>
    <template id="confirmation_inherite" inherit_id="website_sale.confirmation" name="Confirmation Inherit">
<!--        <xpath expr="//div[hasclass('col-12', 'col-xl')]" position="attributes">-->
<!--            <attribute name="class">col-12 col-xl-5</attribute>-->
<!--        </xpath>-->
        <xpath expr="//div[hasclass('col-12', 'col-xl')]" position="replace">
            <t t-if="request.env.user.has_group('superasiab2b_b2c.group_b2baccount')">
            <div class="col-12 col-xl-5">
                <div class="oe_cart pt-lg-4 mt-lg-3">
                    <div class="thanks_msg">
                        <h2><strong>Thank you for your order.</strong>
                            <a role="button" class="btn custom_them_primary d-md-inline-block d-none text-white"
                               href="/shop/print" target="_blank" aria-label="Print" title="Print"><i class="fa fa-print"></i> Print</a>
                        </h2>
                    </div>
                    <h3 class="text-left mt-3">
                        We have received your order. One of our representatives will contact you shortly with the next steps. You'll be able to edit your cart in the meanwhile.
                    </h3>

                </div>
            </div>
            </t>
            <t t-else="">
                <div class="col-12 col-xl-5">
                <div class="oe_cart pt-lg-4">
                    <t t-set="payment_tx_id" t-value="order.get_portal_last_transaction()"/>
<!--                    <t t-if="payment_tx_id.state == 'done'">-->
                        <div class="thanks_msg">
                            <h2>Thank you for your order.
                                <a role="button" class="btn custom_them_primary d-md-inline-block d-none text-white" href="/shop/print" target="_blank" aria-label="Print" title="Print"><i class="fa fa-print"></i> Print</a>
                            </h2>
                        </div>
<!--                    </t>-->
                    <t t-if="request.env['res.users']._get_signup_invitation_scope() == 'b2c' and request.website.is_public_user()">
                        <p class="alert alert-info mt-3" role="status">
                            <a role="button" t-att-href='order.partner_id.signup_prepare() and order.partner_id.with_context(relative_url=True).signup_url' class='btn btn-primary'>Sign Up</a>
                            to follow your order.
                        </p>
                    </t>
                    <div class="oe_structure clearfix mt-3" id="oe_structure_website_sale_confirmation_1"/>
                    <h3 class="text-left mt-3">
                        <strong>Payment Information:</strong>
                    </h3>
                    <table class="table">
                        <tbody>
                            <tr>
                                <td colspan="2">
                                    <t t-esc="order.get_portal_last_transaction().acquirer_id.name" />
                                </td>
                                <td class="text-right" width="100">
                                    <strong>Total:</strong>
                                </td>
                                <td class="text-right" width="100">
                                    <strong t-field="order.amount_total" t-options="{'widget': 'monetary', 'display_currency': order.pricelist_id.currency_id}" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <t t-call="website_sale.payment_confirmation_status"/>
                    <div class="card mt-3">
                        <div class="card-body">
                            <t t-set="same_shipping" t-value="bool(order.partner_shipping_id==order.partner_id or only_services)" />
                            <div><h4><span>Add Billing <t t-if="same_shipping and not only_services"> &amp; Shipping</t> Address: </span></h4><span t-esc='order.partner_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')" class="address-inline"/></div>
                            <div t-if="not same_shipping and not only_services" groups="sale.group_delivery_invoice_address"><h4><span>Shipping Address: </span></h4><span t-esc='order.partner_shipping_id' t-options="dict(widget='contact', fields=['address'], no_marker=True, separator=', ')"  class="address-inline"/></div>
                        </div>
                    </div>
                    <div class="oe_structure mt-3" id="oe_structure_website_sale_confirmation_2"/>
                </div>
            </div>
            </t>
        </xpath>
        <xpath expr="//div[hasclass('col-12', 'col-xl-auto')]" position="attributes">
            <attribute name="class">col-12 col-xl-5 offset-xl-2 pt-xl-5</attribute>
        </xpath>
    </template>



    <template id="superasia_address_b2b" inherit_id="website_sale.address" name="Super Asia Show b2b fields" customize_show="False">
        <xpath expr="//div[@id='div_phone']" position="after">
            <div class="w-100"/>
            <t t-if="mode == ('new', 'billing') or (mode == ('edit', 'billing') and (can_edit_vat or 'vat' in checkout and checkout['vat']))">
                <t t-set="public_b2c" t-value="bool(request.env.user.has_group('superasiab2b_b2c.group_b2caccount') or request.env.user.has_group('base.group_public'))"/>
                <div t-if="not public_b2c" 
                    t-attf-class="form-group #{error.get('company_name') and 'o_has_error' or ''} col-lg-12">
                    <label class="col-form-label font-weight-normal label-optional" for="company_name">Company Name</label>
                    <t t-set="company_name_not_editable_message">
                        Changing company name is not allowed once document(s) have been issued for your account. Please contact us directly for this operation.
                    </t>
                    <input type="text" name="company_name" 
                        t-attf-class="form-control #{error.get('company_name') and 'is-invalid' or ''}" 
                        t-att-value="'commercial_company_name' in checkout and checkout['commercial_company_name'] or 'company_name' in checkout and checkout['company_name']" 
                        t-att-readonly="'1' if 'vat' in checkout and checkout['vat'] and not can_edit_vat else None" 
                        t-att-title="company_name_not_editable_message if 'vat' in checkout and checkout['vat'] and not can_edit_vat else None" 
                        />
                </div>
                <div t-attf-class="form-group #{error.get('vat') and 'o_has_error' or ''} col-lg-6 div_vat d-none">
                    <label class="col-form-label font-weight-normal label-optional" for="vat">TIN / VAT </label>
                    <t t-set="vat_not_editable_message">Changing VAT number is not allowed once document(s) have been issued for your account. Please contact us directly for this operation.</t>
                    <input type="text" name="vat" t-attf-class="form-control #{error.get('vat') and 'is-invalid' or ''}" t-att-value="'vat' in checkout and checkout['vat']" t-att-readonly="'1' if 'vat' in checkout and checkout['vat'] and not can_edit_vat else None" t-att-title="vat_not_editable_message if 'vat' in checkout and checkout['vat'] and not can_edit_vat else None" />
                </div>
            </t>
        </xpath>
    </template>

    <template id="sale_order_portal_template_inherit" inherit_id="sale.sale_order_portal_template">
        <xpath expr="//a[hasclass('btn', 'btn-primary', 'btn-block', 'mb8')]" position="attributes">
            <attribute name="t-att-class">'d-none' if request.env.user.has_group('superasiab2b_b2c.group_b2baccount') else 'btn btn-block custom_them_primary mb8 text-white'</attribute>
        </xpath>
        <xpath expr="//div[hasclass('col-sm-auto', 'mt8')][1]/a" position="attributes">
            <attribute name="t-att-class">'d-none' if request.env.user.has_group('superasiab2b_b2c.group_b2baccount') else 'btn custom_them_primary text-white'</attribute>
        </xpath>
    </template>

    <template id="bista_adress_inherit"  inherit_id="website_sale.address">
        <xpath expr="//input[@name='field_required']" position="after">
            <div class="form-row">
                <div class="value">
                    <script src='https://www.google.com/recaptcha/api.js'></script>
                    <div id="captcha" class="imageContainer">
                        <t t-if="website.recaptcha_key_site">
                            <t t-set="recaptcha_site_key" t-value="website.recaptcha_key_site"/>
                        </t>
                        <t t-else="">
                            <t t-set="recaptcha_site_key" t-value="'siteKeyMissing'"/>
                        </t>
                        <div class="g-recaptcha" t-att-data-sitekey="recaptcha_site_key"
                                data-callback="verifyRecaptchaCallback"
                                data-expired-callback="expiredRecaptchaCallback"></div>
                        <input class="form-control d-none" data-recaptcha="true" />
                        <div class="help-block with-errors" id="err" style='color: red' required="required"></div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

</odoo>
